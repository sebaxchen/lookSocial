@if (authService.getIsAuthenticated()()) {
  <aside class="sidebar">
    <!-- Logo and Brand -->
    <div class="sidebar-header">
      <img src="/assets/Logo.png" class="logo-icon" alt="NoteTo Logo">
    </div>

    <!-- Navigation -->
    <nav class="sidebar-nav">
      @for (option of options(); track option.label) {
        <a 
          mat-button 
          [routerLink]="option.link" 
          routerLinkActive="active"
          class="sidebar-link"
          [style.--nav-color]="option.color">
          <mat-icon class="sidebar-icon">{{ option.icon }}</mat-icon>
          <span class="sidebar-text">{{ option.label }}</span>
        </a>
      }
    </nav>

    <!-- Bottom Section -->
    <div class="sidebar-footer">
      <!-- Post Button -->
      <button mat-raised-button color="primary" class="sidebar-post-button" (click)="publicarPost()">
        <mat-icon>add</mat-icon>
        Publicar Post
      </button>
      
      <!-- User Info -->
      <div class="sidebar-user-info" (click)="openSettings()">
        <div class="sidebar-user-avatar" [style.background-color]="getUserColor()">
          <span class="user-initials">{{ authService.getUserInitials() }}</span>
        </div>
        <div class="sidebar-user-details">
          <span class="user-name">{{ authService.getUserName() }}</span>
          <span class="user-role">{{ authService.getUserRole() }}</span>
        </div>
      </div>
      
      <button mat-icon-button (click)="logout()" class="sidebar-logout-button" title="Cerrar sesiÃ³n">
        <mat-icon>logout</mat-icon>
      </button>
    </div>
  </aside>

  <!-- Settings Modal -->
  @if (isSettingsOpen) {
    <app-settings-modal (close)="isSettingsOpen = false"></app-settings-modal>
  }

  <!-- Publicar Post Modal -->
  @if (isModalOpen) {
    <app-publicar-post-modal 
      (close)="closeModal()" 
      (postPublished)="onPostPublished()">
    </app-publicar-post-modal>
  }
}
